<!Doctype: HTML w/ Processing>

<html>

  <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Processing Demo</title>
      <script type="text/javascript" src="js/processing.js"></script>
  </head>
  
  <body>
    <h1>Ball Bounce Game</h1>
    
    
    <script type="text/processing">
    //DECLARE VARIABLES
int gameState;
int x, y, Vx, Vy;
int score;



// SETUP
void setup(){
  size(650,650);
  gameState=0;
  x=200;
  y=200;
  Vx = 10;
  Vy = 6;
  size(650, 650);
  textSize(30);
 
}

//MAIN
void draw(){
  background(52, 235, 79); // green background

  
  if(gameState==0)
  {
    startScreen();
  }else{
    //BEGIN GAME  --TODO
    ellipse(x,y,30,30);
  
  x = x + Vx;
  y = y + Vy;
  checkWalls();
  text("Score: " + score, 50, 60);
  //text("Last try: ", 220, 60);
  }
}


//make the ball bounce
void checkWalls(){
  if (x > width || x < 0)
  {
    Vx = -Vx;
  }
  if (y > height || y < 0)
  {
    Vy = -Vy;
  }
}

void startScreen(){
  background(0);
  textSize(44);
  fill(168, 50, 50); //red
  text("Hello!",40,100);
  text("'clickball'",60,200);
  if(mouseX > 95 && mouseX < 395 && mouseY > 265 && mouseY < 310){
    fill(219, 52, 235); //purple
    if(mousePressed){
      gameState=1;
     
    }
  }
  else{
    fill(255,0,0);  //red
  }
  rect(90,250,300,55,15);
  fill(255,155,0); //orange
  text("click to start!",100,300);
}

void mousePressed()
{
  if(abs(mouseX - x)< 30 && abs(mouseY - y) < 30)  
  { 
     score++;
  }
}
     

       
      
    
    </script>
    <canvas id="sketch" style="border: 1px solid black;"></canvas>
    
  </body>
  
</html>